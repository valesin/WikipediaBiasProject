# Wikipedia Bias Graph Pipeline Configuration
# Copy this file to .env and modify as needed

# =============================================================================
# SPOTLIGHT CONFIGURATION
# =============================================================================
# Ports for DBpedia Spotlight instances (language:port pairs)
# These ports should match your docker-compose configuration
# Format: lang1:port1,lang2:port2,...
SPOTLIGHT_PORTS=it:2223,en:2221,es:2225,fr:2224,de:2222

# Base URL for Spotlight instances (usually localhost for local deployment)
SPOTLIGHT_BASE_URL=http://localhost

# Endpoint path for Spotlight annotation API
SPOTLIGHT_ENDPOINT_PATH=/rest/annotate

# Minimum confidence threshold for entity recognition (0.0 to 1.0)
SPOTLIGHT_MIN_CONFIDENCE=0.8

# Spotlight request timeout in seconds
SPOTLIGHT_TIMEOUT=10

# Maximum retries for failed Spotlight requests
SPOTLIGHT_MAX_RETRIES=3

# Delay between Spotlight requests (rate limiting)
SPOTLIGHT_RATE_LIMIT_DELAY=0.01

# =============================================================================
# WIKIPEDIA API CONFIGURATION
# =============================================================================
# ⚠️ IMPORTANT: You MUST update the email address in WIKIPEDIA_USER_AGENT below!
# Wikipedia requires a valid contact email in the user agent string.
# This helps them contact you if there are any issues with your requests.
# Replace "your@email.com" with your actual email address.
# 
# User agent string for Wikipedia API requests
WIKIPEDIA_USER_AGENT=WikipediaBiasProject/1.0 (contact: your@email.com)

# Wikipedia API access token (optional, for higher rate limits)
# Get one from: https://meta.wikimedia.org/wiki/Special:OAuthConsumerRegistration
WIKIPEDIA_ACCESS_TOKEN=

# Requests per second to Wikipedia API
WIKIPEDIA_REQUESTS_PER_SECOND=180

# Wikipedia request timeout in seconds
WIKIPEDIA_TIMEOUT=10

# Maximum retries for failed Wikipedia requests
WIKIPEDIA_MAX_RETRIES=3

# =============================================================================
# LANGUAGE CONFIGURATION
# =============================================================================
# Default languages for graph building and weighting
# Format: lang1,lang2,lang3,...
DEFAULT_LANGUAGES=it,en,es,fr,de

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Number of DuckDB threads
DUCKDB_THREADS=32

# DuckDB memory limit
DUCKDB_MEMORY_LIMIT=32GB

# Maximum temporary directory size for DuckDB
DUCKDB_MAX_TEMP_DIR_SIZE=200GB

# Temporary directory for DuckDB
DUCKDB_TEMP_DIR=/tmp/duckdb_temp

# =============================================================================
# PROCESSING CONFIGURATION
# =============================================================================
# Directory for checkpoints during weight assignment
CHECKPOINT_DIR=data/checkpoints

# Batch size for processing
BATCH_SIZE=1000

# Memory warning threshold in GB (triggers garbage collection)
MEMORY_WARNING_THRESHOLD_GB=50.0
